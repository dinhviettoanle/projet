<!-- Vue du calendrier -->
{% extends "base.html"%}
{% load static %}

{% block script%}
<script type="text/javascript" src="https://visjs.github.io/vis-timeline/standalone/umd/vis-timeline-graph2d.min.js"></script>
<script src={% static "javascript/gantt.js" %}></script>

<script>
   $(document).ready(function() {
      document.getElementById("calendar-nav_item").classList.add("active");
      var tasks_by_project = {{ tasks_by_project|safe }};
      initialize_gantt(tasks_by_project);
      plot_gantt();

   })
</script>
{%endblock%}

{% block css %}
<style>
a:hover {
   text-decoration: none;
   color : black;
}
</style>
{% endblock %}




{% block content %}

   <div class="m-5 p-3">
      <h3>Calendrier</h3>
   <br/>
      <div id="gantt">
         <span id="waiting">Chargement...</span>
      </div>

      <div id="details_task" class="m-3 p-3 border" style="display:none">
         <h5 id="details_name">Aucune tâche sélectionnée</h5>
         <table class="table">
            <tbody>
               <tr>
                  <th class="thead-dark" style="width : 20%;">Projet parent</th>
                  <td><a id="details_project" href="">-</a></td>
               </tr>
               <tr>
                  <th class="thead-dark" style="width : 20%;">Date de début</th>
                  <td id="details_start">-</td>
               </tr>
               <tr>
                  <th class="thead-dark" style="width : 20%;">Deadline</th>
                  <td id="details_deadline">-</td>
               </tr>
            </tbody>
         </table>
         <p> <a id="details_link" href="">Plus de détails... </a></p>
      </div>

</div>



{% endblock %}
